{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://familiar.dev/schemas/base/SharedDefinitions.v1.schema.json",
  "title": "Shared Definitions",
  "description": "A central dictionary of all reusable, canonical fields and types for the Familiar system.",
  "$defs": {
    "fields": {
      "Energy": {
        "description": "The current energy level of an entity.",
        "type": "number",
        "x-rust-type": "f64",
        "default": 0.1
      },
      "DecayRate": {
        "description": "The base rate of energy decay for an entity.",
        "type": "number",
        "x-rust-type": "f64",
        "default": 0.01
      },
      "ConsolidationRate": {
        "description": "The base rate of memory consolidation for an entity.",
        "type": "number",
        "x-rust-type": "f64",
        "default": 0.0
      },
      "QuantumCoherence": {
        "description": "The quantum coherence level (if applicable).",
        "type": ["number", "null"],
        "x-rust-type": "Option<f64>",
        "default": null
      },
      "EntanglementStrength": {
        "description": "The overall entanglement strength of this entity with others (if applicable).",
        "type": ["number", "null"],
        "x-rust-type": "Option<f64>",
        "default": null
      }
    },
    "types": {
      "Vec3": {
        "title": "3D Vector",
        "description": "A reusable data type for a vector of three f64 numbers.",
        "type": "array",
        "items": { "type": "number", "x-rust-type": "f64" },
        "minItems": 3,
        "maxItems": 3
      },
      "Vec6": {
        "title": "6D Vector",
        "description": "A reusable data type for a vector of six f64 numbers.",
        "type": "array",
        "items": { "type": "number", "x-rust-type": "f64" },
        "minItems": 6,
        "maxItems": 6
      },
      "CognitivePerspective": {
        "title": "Cognitive Perspective Type",
        "description": "The intrinsic 'spin' or 'flavor' of an entity.",
        "allOf": [{ "$ref": "#/$defs/types/Vec3" }]
      },
      "ComplexNumber": {
        "title": "Complex Number",
        "type": "object",
        "properties": {
          "real": { "type": "number", "x-rust-type": "f64" },
          "imaginary": { "type": "number", "x-rust-type": "f64" }
        },
        "required": ["real", "imaginary"]
      },
      "DensityMatrix": {
        "title": "Density Matrix",
        "type": "array",
        "items": {
          "type": "array",
          "items": { "$ref": "#/$defs/types/ComplexNumber" },
          "minItems": 2, "maxItems": 2
        },
        "minItems": 2, "maxItems": 2
      },
      "WorkflowState": {
        "title": "Workflow State",
        "description": "Represents the state of a long-running, orchestrated workflow.",
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["Pending", "Running", "AwaitingInput", "Completed", "Failed"]
          },
          "current_step": { "type": "string" },
          "error_message": { "type": ["string", "null"] },
          "last_updated": { "type": "string", "format": "date-time" }
        },
        "required": ["status", "current_step", "last_updated"]
      }
    }
  }
}